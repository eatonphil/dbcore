project: todo

database:
  dialect: sqlite
  database: todo.db

api:
  routerPrefix: v1/
  auth:
    enabled: true
  audit:
    createdAt: created_at
    updatedAt: updated_at
    deletedAt: deleted_at
  endpoints:
    notes:
      get:
        filter: $session.is_admin or $session.user_id = notes.created_by or notes.is_public
      put:
        filter: $session.is_admin or $session.user_id = $request.created_by
      delete:
        filter: $session.is_admin or $session.user_id = $request.created_by
      post:
        filter: $session.exists
    users:
      get:
        filter: $session.is_admin or $session.user_id = users.id
      put:
        filter: $session.is_admin or $session.user_id = $request.id
      delete:
        filter: $session.is_admin or $session.user_id = $request.id
      post:
        filter: $session.exists
  extra:
    repo: github.com/eatonphil/dbcore-todo

browser: {}
